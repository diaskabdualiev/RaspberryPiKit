==============================
Урок 9: Управление реле
==============================

Теоретическая часть
-------------------
**Реле** – это электромеханический переключатель, который позволяет управлять высоковольтными или мощными цепями при помощи низковольтного сигнала от Raspberry Pi. Существует также твердотельное (SSR) реле, но принцип управления примерно тот же.

Необходимые компоненты
----------------------
- Raspberry Pi
- Модуль реле
- Соединительные провода

Схема подключения
-----------------
.. figure:: images/lesson9.jpg
   :width: 80%
   :align: center

Запуск кода
-----------
1. Создайте файл `relay.py` в папке `lessons/lesson9/`:

   .. code-block:: bash

      nano lessons/lesson9/relay.py

2. Скопируйте в него следующий код.
3. Запустите программу:

   .. code-block:: bash

      python3 lessons/lesson9/relay.py

Код программы
-------------
Файл: `lessons/lesson9/relay.py`

.. code-block:: python

   from gpiozero import OutputDevice
   from time import sleep

   # Указываем пин, к которому подключено реле (например, GPIO18)
   RELAY_PIN = 18

   # Инициализация реле
   relay = OutputDevice(RELAY_PIN, active_high=False, initial_value=False)

   try:
       while True:
           print("Реле ВКЛЮЧЕНО")
           relay.on()  # Включаем реле
           sleep(2)

           print("Реле ВЫКЛЮЧЕНО")
           relay.off()  # Выключаем реле
           sleep(2)

   except KeyboardInterrupt:
       print("\nПрограмма завершена.")

Разбор кода
-----------
- `from gpiozero import OutputDevice` – используем класс OutputDevice для управления простым выходом.
- `active_high=False` означает, что реле срабатывает при подаче LOW (такое встречается у некоторых реле-модулей).
- `initial_value=False` – при старте реле будет в состоянии "выключено".
- `relay.on()` / `relay.off()` – устанавливают соответствующие уровни сигнала.
- `sleep(2)` – задержка на 2 секунды между переключениями.

Ожидаемый результат
-------------------
Реле будет попеременно включаться и выключаться каждые 2 секунды, что можно наблюдать по щелчкам электромеханического реле. Можно использовать это для управления внешними цепями.

.. note::
   Будьте осторожны при работе с высокими напряжениями и токами. Убедитесь, что ваше реле рассчитано на нагрузку, которую вы будете подключать.

Завершение работы
-----------------
Нажмите **Ctrl + C** в терминале, чтобы остановить программу. Поздравляем! Теперь вы можете дистанционно управлять реле через Raspberry Pi.
