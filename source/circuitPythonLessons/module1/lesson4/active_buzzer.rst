================================================
–£—Ä–æ–∫ 4: –†–∞–±–æ—Ç–∞ —Å –∞–∫—Ç–∏–≤–Ω—ã–º –∑—É–º–º–µ—Ä–æ–º üîä
================================================

–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å
-----------------------------------------
–ê–∫—Ç–∏–≤–Ω—ã–π –∑—É–º–º–µ—Ä (buzzer) - —ç—Ç–æ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∑–≤—É–∫ –ø—Ä–∏ –ø–æ–¥–∞—á–µ –Ω–∞ –Ω–µ–≥–æ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –ø–∞—Å—Å–∏–≤–Ω–æ–≥–æ –∑—É–º–º–µ—Ä–∞, –∞–∫—Ç–∏–≤–Ω—ã–π –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∑–≤—É–∫–∞, –ø–æ—ç—Ç–æ–º—É –¥–ª—è –µ–≥–æ —Ä–∞–±–æ—Ç—ã –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ –ø–æ–¥–∞—Ç—å –ø–∏—Ç–∞–Ω–∏–µ - –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–∏–≥–Ω–∞–ª –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —á–∞—Å—Ç–æ—Ç—ã.

–ê–∫—Ç–∏–≤–Ω—ã–µ –∑—É–º–º–µ—Ä—ã —à–∏—Ä–æ–∫–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–≤—É–∫–æ–≤—ã—Ö –æ–ø–æ–≤–µ—â–µ–Ω–∏–π, —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏–∏, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–æ–∫ –∏ —Ç.–¥. –í —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã –Ω–∞—É—á–∏–º—Å—è —É–ø—Ä–∞–≤–ª—è—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–º –∑—É–º–º–µ—Ä–æ–º —Å –ø–æ–º–æ—â—å—é Raspberry Pi.

–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
--------------------------------------------
- Raspberry Pi
- –ê–∫—Ç–∏–≤–Ω—ã–π –∑—É–º–º–µ—Ä
- –†–µ–∑–∏—Å—Ç–æ—Ä 220 –∏–ª–∏ 330 –û–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ç–æ–∫–∞)
- –ú–∞–∫–µ—Ç–Ω–∞—è –ø–ª–∞—Ç–∞ (breadboard)
- –°–æ–µ–¥–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–æ–¥–∞

–°—Ö–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
---------------------------------------
.. figure:: images/lesson4.png
   :width: 80%
   :align: center

   **–†–∏—Å. 1:** –°—Ö–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∑—É–º–º–µ—Ä–∞

–í –Ω–∞—à–µ–π —Å—Ö–µ–º–µ:
- –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ –∑—É–º–º–µ—Ä–∞ (+) –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ GPIO18 —á–µ—Ä–µ–∑ —Ä–µ–∑–∏—Å—Ç–æ—Ä
- –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ (-) –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –∑–µ–º–ª–µ (GND)

–ó–∞–ø—É—Å–∫ –∫–æ–¥–∞
---------------------------------
1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `active_buzzer.py` –≤ –ø–∞–ø–∫–µ `lessons/lesson4/`:

   .. code-block:: bash

      nano lessons/lesson4/active_buzzer.py

2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤ –Ω–µ–≥–æ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ.
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É:
   
   .. code-block:: bash

      python3 lessons/lesson4/active_buzzer.py

–ö–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã
-----------------------------------
–§–∞–π–ª: `lessons/lesson4/active_buzzer.py`

.. code-block:: python

   import board
   import digitalio
   import time

   # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∏–Ω–∞ –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∑—É–º–º–µ—Ä–∞
   buzzer_pin = digitalio.DigitalInOut(board.D18)  # GPIO18
   buzzer_pin.direction = digitalio.Direction.OUTPUT

   def beep(duration):
       """–§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–¥–∞—á–∏ –∑–≤—É–∫–æ–≤–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞ –∑–∞–¥–∞–Ω–Ω–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏."""
       buzzer_pin.value = True
       print("–ó—É–º–º–µ—Ä –í–ö–õ")
       time.sleep(duration)
       buzzer_pin.value = False
       print("–ó—É–º–º–µ—Ä –í–´–ö–õ")

   try:
       print("–ü—Ä–æ–≥—Ä–∞–º–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω—ã–º –∑—É–º–º–µ—Ä–æ–º –∑–∞–ø—É—â–µ–Ω–∞")
       print("–ù–∞–∂–º–∏—Ç–µ Ctrl+C –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è")
       
       while True:
           # –û–¥–∏–Ω –∫–æ—Ä–æ—Ç–∫–∏–π —Å–∏–≥–Ω–∞–ª
           beep(0.2)
           time.sleep(0.2)
           
           # –î–≤–∞ –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å–∏–≥–Ω–∞–ª–∞
           beep(0.2)
           time.sleep(0.2)
           beep(0.2)
           time.sleep(0.2)
           
           # –û–¥–∏–Ω –¥–ª–∏–Ω–Ω—ã–π —Å–∏–≥–Ω–∞–ª
           beep(1.0)
           time.sleep(1.0)
           
   except KeyboardInterrupt:
       # –í—ã–∫–ª—é—á–∞–µ–º –∑—É–º–º–µ—Ä –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
       buzzer_pin.value = False
       print("\n–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞")

–†–∞–∑–±–æ—Ä –∫–æ–¥–∞
-----------
- `import board` –∏ `import digitalio` ‚Äì –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –º–æ–¥—É–ª–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å GPIO.
- `import time` ‚Äì –º–æ–¥—É–ª—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–µ—Ä–∂–µ–∫.

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∏–Ω–∞:**

- `buzzer_pin = digitalio.DigitalInOut(board.D18)` ‚Äì —Å–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è GPIO18, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –ø–æ–¥–∫–ª—é—á–µ–Ω –∑—É–º–º–µ—Ä.
- `buzzer_pin.direction = digitalio.Direction.OUTPUT` ‚Äì –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø–∏–Ω –∫–∞–∫ –≤—ã—Ö–æ–¥.

**–§—É–Ω–∫—Ü–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑—É–º–º–µ—Ä–æ–º:**

- `def beep(duration)` ‚Äì —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–¥–∞—á–∏ –∑–≤—É–∫–æ–≤–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞ –∑–∞–¥–∞–Ω–Ω–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
  - `buzzer_pin.value = True` ‚Äì –≤–∫–ª—é—á–µ–Ω–∏–µ –∑—É–º–º–µ—Ä–∞ (–ø–æ–¥–∞—á–∞ HIGH –Ω–∞ –ø–∏–Ω).
  - `time.sleep(duration)` ‚Äì –∑–∞–¥–µ—Ä–∂–∫–∞ –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è (–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏–≥–Ω–∞–ª–∞).
  - `buzzer_pin.value = False` ‚Äì –≤—ã–∫–ª—é—á–µ–Ω–∏–µ –∑—É–º–º–µ—Ä–∞ (–ø–æ–¥–∞—á–∞ LOW –Ω–∞ –ø–∏–Ω).

**–û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª:**

- –í –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–º —Ü–∏–∫–ª–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∑–≤—É–∫–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã:
  - –û–¥–∏–Ω –∫–æ—Ä–æ—Ç–∫–∏–π —Å–∏–≥–Ω–∞–ª (0.2 —Å–µ–∫—É–Ω–¥—ã).
  - –î–≤–∞ –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å–∏–≥–Ω–∞–ª–∞ —Å –ø–∞—É–∑–æ–π –º–µ–∂–¥—É –Ω–∏–º–∏.
  - –û–¥–∏–Ω –¥–ª–∏–Ω–Ω—ã–π —Å–∏–≥–Ω–∞–ª (1 —Å–µ–∫—É–Ω–¥–∞).
- –ú–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è–º–∏ —Å–∏–≥–Ω–∞–ª–æ–≤ –¥–µ–ª–∞–µ–º –ø–∞—É–∑—ã –¥–ª—è –∏—Ö —á–µ—Ç–∫–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è.
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º `KeyboardInterrupt` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ –Ω–∞–∂–∞—Ç–∏—é Ctrl+C.

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
-----------------------------------------
–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∞–∫—Ç–∏–≤–Ω—ã–π –∑—É–º–º–µ—Ä –±—É–¥–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–≤—É–∫–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤: –æ–¥–∏–Ω –∫–æ—Ä–æ—Ç–∫–∏–π, –¥–≤–∞ –∫–æ—Ä–æ—Ç–∫–∏—Ö, –æ–¥–∏–Ω –¥–ª–∏–Ω–Ω—ã–π. –ó–∞—Ç–µ–º –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è –¥–æ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã.

–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã
---------------------------------------
–î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–∞–∂–º–∏—Ç–µ **Ctrl + C** –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ. –ó—É–º–º–µ—Ä –±—É–¥–µ—Ç –≤—ã–∫–ª—é—á–µ–Ω, –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç —Ä–∞–±–æ—Ç—É.

–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
--------------------------------------------

1. **–ê–∑–±—É–∫–∞ –ú–æ—Ä–∑–µ**: –†–µ–∞–ª–∏–∑—É–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é –∞–∑–±—É–∫–∏ –ú–æ—Ä–∑–µ (—Ç–æ—á–∫–∏ - –∫–æ—Ä–æ—Ç–∫–∏–µ —Å–∏–≥–Ω–∞–ª—ã, —Ç–∏—Ä–µ - –¥–ª–∏–Ω–Ω—ã–µ).

2. **–ú–µ–ª–æ–¥–∏—è**: –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Å—Ç—É—é –º–µ–ª–æ–¥–∏—é, –∫–æ–º–±–∏–Ω–∏—Ä—É—è —Å–∏–≥–Ω–∞–ª—ã —Ä–∞–∑–Ω–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –ø–∞—É–∑–∞–º–∏.

3. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–æ–π**: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–Ω–æ–ø–∫—É –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É —Ç–∞–∫, —á—Ç–æ–±—ã –∑—É–º–º–µ—Ä –≤–∫–ª—é—á–∞–ª—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É.

4. **–°–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏—è**: –°–æ–∑–¥–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏–∏, –≥–¥–µ –∑—É–º–º–µ—Ä –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–∏ –¥–∞—Ç—á–∏–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è –∏–ª–∏ —Å–≤–µ—Ç–∞).

–ü—Ä–∏–º–µ—Ä: –ö–æ–¥ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è —Å–∏–≥–Ω–∞–ª–∞ SOS –∞–∑–±—É–∫–æ–π –ú–æ—Ä–∑–µ

.. code-block:: python

    def sos_signal():
        # S: —Ç—Ä–∏ –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å–∏–≥–Ω–∞–ª–∞ (—Ç–æ—á–∫–∏)
        for _ in range(3):
            beep(0.2)
            time.sleep(0.2)
        
        time.sleep(0.4)  # –ü–∞—É–∑–∞ –º–µ–∂–¥—É –±—É–∫–≤–∞–º–∏
        
        # O: —Ç—Ä–∏ –¥–ª–∏–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–∞ (—Ç–∏—Ä–µ)
        for _ in range(3):
            beep(0.6)
            time.sleep(0.2)
        
        time.sleep(0.4)  # –ü–∞—É–∑–∞ –º–µ–∂–¥—É –±—É–∫–≤–∞–º–∏
        
        # S: —Ç—Ä–∏ –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å–∏–≥–Ω–∞–ª–∞ (—Ç–æ—á–∫–∏)
        for _ in range(3):
            beep(0.2)
            time.sleep(0.2)
        
        time.sleep(1.0)  # –î–ª–∏–Ω–Ω–∞—è –ø–∞—É–∑–∞ –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ–º


–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –Ω–∞—É—á–∏–ª–∏—Å—å —É–ø—Ä–∞–≤–ª—è—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–º –∑—É–º–º–µ—Ä–æ–º –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∑–≤—É–∫–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã —Å –ø–æ–º–æ—â—å—é Raspberry Pi.