============================================================
–£—Ä–æ–∫ 8: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥–æ–º SG90 üîÑ
============================================================

–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å
-------------------
–°–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥ SG90 ‚Äì —ç—Ç–æ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π —ç–ª–µ–∫—Ç—Ä–æ–º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–≤–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—Ä–∞—â–∞—Ç—å –≤–∞–ª –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π —É–≥–æ–ª (–æ–±—ã—á–Ω–æ –æ—Ç 0 –¥–æ 180 –≥—Ä–∞–¥—É—Å–æ–≤). –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–≥–ª–æ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞ —Å—á—ë—Ç –ø–æ–¥–∞—á–∏ –®–ò–ú-—Å–∏–≥–Ω–∞–ª–∞ (PWM) —Å —Ä–∞–∑–ª–∏—á–Ω–æ–π —Å–∫–≤–∞–∂–Ω–æ—Å—Ç—å—é (pulse width).

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ gpiozero, CircuitPython –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –º–æ–¥—É–ª—å `adafruit_motor.servo` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥–æ–º, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–µ –∏ —É–¥–æ–±–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ.

–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
----------------------
- Raspberry Pi
- –°–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥ SG90 (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥)
- –ú–∞–∫–µ—Ç–Ω–∞—è –ø–ª–∞—Ç–∞ (breadboard) –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –°–æ–µ–¥–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–æ–¥–∞ (3 –ø—Ä–æ–≤–æ–¥–∞: –ø–∏—Ç–∞–Ω–∏–µ, –∑–µ–º–ª—è, —Å–∏–≥–Ω–∞–ª)

–°—Ö–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
-----------------
.. figure:: images/servo.png
   :width: 80%
   :align: center

   **–†–∏—Å. 1:** –°—Ö–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥–∞

–ó–∞–ø—É—Å–∫ –∫–æ–¥–∞
------------
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –∏–ª–∏ IDE (–Ω–∞–ø—Ä–∏–º–µ—Ä, Thonny –∏–ª–∏ VS Code) –Ω–∞ Raspberry Pi.
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª **servo_circuit.py** –≤ –ø–∞–ø–∫–µ `lessons/lesson8/`.
3. –í—Å—Ç–∞–≤—å—Ç–µ –≤ —Ñ–∞–π–ª —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:

–ö–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã
-------------
–§–∞–π–ª: `lessons/lesson8/servo_circuit.py`

.. code-block:: python

    import time
    import board
    import pwmio
    from adafruit_motor import servo

    # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è PWM –Ω–∞ GPIO 18
    pwm = pwmio.PWMOut(board.D18, duty_cycle=2 ** 15, frequency=50)

    # –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥–∞
    # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã min_pulse –∏ max_pulse –º–æ–∂–Ω–æ —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è —Ç–æ—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≥–ª–æ–≤
    my_servo = servo.Servo(pwm, min_pulse=750, max_pulse=2250)

    try:
        while True:
            print("–ü–æ–≤–æ—Ä–æ—Ç –Ω–∞ 0¬∞")
            my_servo.angle = 0
            time.sleep(1)
            
            print("–ü–æ–≤–æ—Ä–æ—Ç –Ω–∞ 90¬∞")
            my_servo.angle = 90
            time.sleep(1)
            
            print("–ü–æ–≤–æ—Ä–æ—Ç –Ω–∞ 180¬∞")
            my_servo.angle = 180
            time.sleep(1)
            
            # –ü–ª–∞–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –æ—Ç 180¬∞ –∫ 0¬∞
            print("–ü–ª–∞–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –æ—Ç 180¬∞ –∫ 0¬∞")
            for angle in range(180, -1, -5):  # –®–∞–≥ 5 –≥—Ä–∞–¥—É—Å–æ–≤
                my_servo.angle = angle
                time.sleep(0.05)
                
            # –ü–ª–∞–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –æ—Ç 0¬∞ –∫ 180¬∞
            print("–ü–ª–∞–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –æ—Ç 0¬∞ –∫ 180¬∞")
            for angle in range(0, 181, 5):  # –®–∞–≥ 5 –≥—Ä–∞–¥—É—Å–æ–≤
                my_servo.angle = angle
                time.sleep(0.05)
                
    except KeyboardInterrupt:
        print("\n–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.")
        # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥ –≤ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –≤—ã—Ö–æ–¥–æ–º
        my_servo.angle = 90


–†–∞–∑–±–æ—Ä –∫–æ–¥–∞
------------
- `import board` ‚Äì –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –º–æ–¥—É–ª—å board –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∏–Ω–∞–º Raspberry Pi.
- `import pwmio` ‚Äì –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –º–æ–¥—É–ª—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è PWM (Pulse Width Modulation) —Å–∏–≥–Ω–∞–ª–∞.
- `from adafruit_motor import servo` ‚Äì –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –º–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥–∞–º–∏.
- `pwm = pwmio.PWMOut(board.D18, duty_cycle=2 ** 15, frequency=50)` ‚Äì —Å–æ–∑–¥–∞–µ–º PWM-–æ–±—ä–µ–∫—Ç –Ω–∞ –ø–∏–Ω–µ GPIO18 —Å —á–∞—Å—Ç–æ—Ç–æ–π 50 –ì—Ü (—Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥–æ–≤).
- `my_servo = servo.Servo(pwm, min_pulse=750, max_pulse=2250)` ‚Äì —Å–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥–∞ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏–º–ø—É–ª—å—Å–∞.
- `my_servo.angle = 0/90/180` ‚Äì —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —É–≥–æ–ª –ø–æ–≤–æ—Ä–æ—Ç–∞ —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥–∞.
- –¶–∏–∫–ª—ã `for angle in range(...):` –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—Ç –ø–ª–∞–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥–∞.

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
-------------------
1. –°–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 0¬∞, 90¬∞ –∏ 180¬∞ —Å –ø–∞—É–∑–∞–º–∏ –º–µ–∂–¥—É –ø–æ–ª–æ–∂–µ–Ω–∏—è–º–∏.
2. –ó–∞—Ç–µ–º –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –ø–ª–∞–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –æ—Ç 180¬∞ –∫ 0¬∞ –∏ –æ–±—Ä–∞—Ç–Ω–æ —Å —à–∞–≥–æ–º 5¬∞.
3. –í –∫–æ–Ω—Å–æ–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–µ–∫—É—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è.

–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã
-----------------
–î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–∞–∂–º–∏—Ç–µ **Ctrl + C** –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ. –ü–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ (90¬∞).

–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! üéâ –í—ã —É—Å–ø–µ—à–Ω–æ –Ω–∞—É—á–∏–ª–∏—Å—å —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥–æ–º SG90 —Å –ø–æ–º–æ—â—å—é CircuitPython –Ω–∞ Raspberry Pi! –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥—ã –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö, —Ç—Ä–µ–±—É—é—â–∏—Ö —Ç–æ—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏–µ–º.