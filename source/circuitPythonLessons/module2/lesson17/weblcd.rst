============================================================
–£—Ä–æ–∫: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è LCD –¥–∏—Å–ø–ª–µ–µ–º
============================================================

–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å
--------------------------------------
–í —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã —Å–æ–∑–¥–∞–¥–∏–º –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è LCD-–¥–∏—Å–ø–ª–µ–µ–º, –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–º –∫ Raspberry Pi —á–µ—Ä–µ–∑ I2C –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–¥–æ–±–Ω–æ –≤–≤–æ–¥–∏—Ç—å –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Ç–µ–∫—Å—Ç –Ω–∞ –¥–∏—Å–ø–ª–µ–µ —Å –ø–æ–º–æ—â—å—é –ª—é–±–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (—Å–º–∞—Ä—Ç—Ñ–æ–Ω–∞, –ø–ª–∞–Ω—à–µ—Ç–∞, –∫–æ–º–ø—å—é—Ç–µ—Ä–∞) –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏.

LCD-–¥–∏—Å–ø–ª–µ–∏ —Å –º–æ–¥—É–ª–µ–º I2C —à–∏—Ä–æ–∫–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–∞—Ö –Ω–∞ –±–∞–∑–µ Raspberry Pi, –ø–æ—Å–∫–æ–ª—å–∫—É —Ç—Ä–µ–±—É—é—Ç –≤—Å–µ–≥–æ 2 —Å–∏–≥–Ω–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–≤–æ–¥–∞ (SDA –∏ SCL) –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —ç–∫–æ–Ω–æ–º–∏—Ç GPIO-–ø–∏–Ω—ã –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –ø—Ä—è–º—ã–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º (—Ç—Ä–µ–±—É—é—â–∏–º 6+ –ø–∏–Ω–æ–≤).

–í –ø—Ä–æ–µ–∫—Ç–µ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- **Flask** - –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Python
- **RPLCD** - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è LCD-–¥–∏—Å–ø–ª–µ—è–º–∏ —á–µ—Ä–µ–∑ GPIO –∏–ª–∏ I2C
- **HTML/CSS/JavaScript** - –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω–æ–≥–æ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
-----------------------------------------
- Raspberry Pi
- LCD-–¥–∏—Å–ø–ª–µ–π 16x2 —Å –º–æ–¥—É–ª–µ–º I2C (–æ–±—ã—á–Ω–æ –Ω–∞ –±–∞–∑–µ PCF8574)
- –°–æ–µ–¥–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–æ–¥–∞

–°—Ö–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
------------------------------------
.. figure:: images/lcd_i2c_connection.png
   :width: 80%
   :align: center

   **–†–∏—Å. 1:** –°—Ö–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è LCD-–¥–∏—Å–ø–ª–µ—è —Å I2C –º–æ–¥—É–ª–µ–º –∫ Raspberry Pi

–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ LCD-–¥–∏—Å–ø–ª–µ—è —Å I2C –º–æ–¥—É–ª–µ–º:
- VCC ‚Üí 5V (–∏–ª–∏ 3.3V, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –º–æ–¥—É–ª—è)
- GND ‚Üí GND
- SDA ‚Üí GPIO2 (SDA)
- SCL ‚Üí GPIO3 (SCL)

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫
--------------------------------------------------------------
–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç—Ä–µ–±—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

.. code-block:: bash

   # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ I2C —É—Ç–∏–ª–∏—Ç
   sudo apt-get update
   sudo apt-get install -y python-smbus i2c-tools
   
   # –í–∫–ª—é—á–µ–Ω–∏–µ I2C –≤ Raspberry Pi, –µ—Å–ª–∏ –µ—â—ë –Ω–µ –≤–∫–ª—é—á–µ–Ω–æ
   sudo raspi-config
   # –í—ã–±–µ—Ä–∏—Ç–µ: Interfacing Options ‚Üí I2C ‚Üí Yes
   
   # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫ Python
   pip install flask RPLCD

–ü—Ä–æ–≤–µ—Ä–∫–∞ I2C-–∞–¥—Ä–µ—Å–∞ –¥–∏—Å–ø–ª–µ—è:

.. code-block:: bash

   sudo i2cdetect -y 1

–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã –ø–æ–∫–∞–∂–µ—Ç —Ç–∞–±–ª–∏—Ü—É —Å –∞–¥—Ä–µ—Å–∞–º–∏ –≤—Å–µ—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö I2C-—É—Å—Ç—Ä–æ–π—Å—Ç–≤. –û–±—ã—á–Ω–æ LCD-–¥–∏—Å–ø–ª–µ–∏ –∏–º–µ—é—Ç –∞–¥—Ä–µ—Å `0x27` –∏–ª–∏ `0x3F`. –ó–∞–ø–æ–º–Ω–∏—Ç–µ —ç—Ç–æ—Ç –∞–¥—Ä–µ—Å ‚Äî –æ–Ω –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∫–æ–¥–∞.

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
------------------------------------------------
.. code-block:: bash

   lcd_web_controller/
   ‚îú‚îÄ‚îÄ app.py           # –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å –Ω–∞ Flask
   ‚îî‚îÄ‚îÄ templates/       # –®–∞–±–ª–æ–Ω—ã –¥–ª—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
       ‚îî‚îÄ‚îÄ index.html   # –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

–ö–æ–¥ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —á–∞—Å—Ç–∏ (app.py)
-----------------------------------------------------------
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `app.py` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

.. code-block:: python

   from flask import Flask, render_template, request
   from RPLCD.i2c import CharLCD
   import time

   app = Flask(__name__)

   # –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç LCD
   # –ê–¥—Ä–µ—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0x27, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ 0x3F –∏–ª–∏ –¥—Ä—É–≥–æ–π
   lcd = CharLCD(i2c_expander='PCF8574', address=0x27, port=1,
               cols=16, rows=2, dotsize=8)

   @app.route('/')
   def index():
       return render_template('index.html')

   @app.route('/display', methods=['POST'])
   def display_text():
       # –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—Å—Ç –∏–∑ —Ñ–æ—Ä–º—ã
       line1 = request.form['line1']
       line2 = request.form['line2']
       
       # –û—á–∏—â–∞–µ–º –¥–∏—Å–ø–ª–µ–π
       lcd.clear()
       
       # –í—ã–≤–æ–¥–∏–º –ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É
       lcd.cursor_pos = (0, 0)  # –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞
       lcd.write_string(line1[:16])  # –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º 16 —Å–∏–º–≤–æ–ª–∞–º–∏
       
       # –í—ã–≤–æ–¥–∏–º –≤—Ç–æ—Ä—É—é —Å—Ç—Ä–æ–∫—É
       lcd.cursor_pos = (1, 0)  # –í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞
       lcd.write_string(line2[:16])  # –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º 16 —Å–∏–º–≤–æ–ª–∞–º–∏
       
       return render_template('index.html', 
                              message="–¢–µ–∫—Å—Ç —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –¥–∏—Å–ø–ª–µ–π!",
                              line1=line1,
                              line2=line2)

   @app.route('/clear', methods=['POST'])
   def clear_display():
       # –û—á–∏—â–∞–µ–º –¥–∏—Å–ø–ª–µ–π
       lcd.clear()
       return render_template('index.html', message="–î–∏—Å–ø–ª–µ–π –æ—á–∏—â–µ–Ω!")

   if __name__ == '__main__':
       try:
           # –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∑–¥–æ—Ä–æ–≤–∞–µ–º—Å—è
           lcd.clear()
           lcd.write_string("LCD Ready!")
           lcd.cursor_pos = (1, 0)
           lcd.write_string("Web app started")
           
           # –ó–∞–ø—É—Å–∫–∞–µ–º –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
           app.run(host='0.0.0.0', port=5000, debug=True)
           
       except KeyboardInterrupt:
           # –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ –æ—á–∏—â–∞–µ–º –¥–∏—Å–ø–ª–µ–π
           lcd.clear()
           print("–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.")

–ö–æ–¥ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (index.html)
--------------------------------------------------------------
–°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `templates` –∏ –≤ –Ω–µ–π —Ñ–∞–π–ª `index.html`:

.. code-block:: html

   <!DOCTYPE html>
   <html lang="ru">
   <head>
       <meta charset="UTF-8">
       <meta name="viewport" content="width=device-width, initial-scale=1.0">
       <title>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ LCD –¥–∏—Å–ø–ª–µ–µ–º</title>
       <style>
           body {
               font-family: Arial, sans-serif;
               max-width: 600px;
               margin: 0 auto;
               padding: 20px;
               background-color: #f5f5f5;
           }
           h1 {
               color: #333;
               text-align: center;
           }
           .container {
               background-color: white;
               padding: 20px;
               border-radius: 10px;
               box-shadow: 0 0 10px rgba(0,0,0,0.1);
           }
           .form-group {
               margin-bottom: 15px;
           }
           label {
               display: block;
               margin-bottom: 5px;
               font-weight: bold;
           }
           input[type="text"] {
               width: 100%;
               padding: 8px;
               box-sizing: border-box;
               border: 1px solid #ddd;
               border-radius: 4px;
           }
           .buttons {
               display: flex;
               justify-content: space-between;
               margin-top: 20px;
           }
           button {
               padding: 10px 15px;
               border: none;
               border-radius: 4px;
               cursor: pointer;
           }
           .send-btn {
               background-color: #4CAF50;
               color: white;
           }
           .clear-btn {
               background-color: #f44336;
               color: white;
           }
           .message {
               padding: 10px;
               margin-top: 20px;
               border-radius: 4px;
               text-align: center;
           }
           .success {
               background-color: #dff0d8;
               color: #3c763d;
           }
           .lcd-display {
               width: 100%;
               height: 90px;
               background-color: #73c0ff;
               border: 5px solid #333;
               border-radius: 5px;
               margin: 20px 0;
               padding: 10px;
               box-sizing: border-box;
               color: #000080;
               font-family: monospace;
               font-size: 20px;
               line-height: 30px;
           }
       </style>
   </head>
   <body>
       <div class="container">
           <h1>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ LCD –¥–∏—Å–ø–ª–µ–µ–º</h1>
           
           <!-- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è LCD –¥–∏—Å–ø–ª–µ—è -->
           <div class="lcd-display">
               <div>{{ line1 if line1 else '                ' }}</div>
               <div>{{ line2 if line2 else '                ' }}</div>
           </div>
           
           <form action="/display" method="post">
               <div class="form-group">
                   <label for="line1">–¢–µ–∫—Å—Ç –¥–ª—è –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–∏:</label>
                   <input type="text" id="line1" name="line1" maxlength="16" value="{{ line1 }}">
               </div>
               
               <div class="form-group">
                   <label for="line2">–¢–µ–∫—Å—Ç –¥–ª—è –≤—Ç–æ—Ä–æ–π —Å—Ç—Ä–æ–∫–∏:</label>
                   <input type="text" id="line2" name="line2" maxlength="16" value="{{ line2 }}">
               </div>
               
               <div class="buttons">
                   <button type="submit" class="send-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –¥–∏—Å–ø–ª–µ–π</button>
                   <button type="button" class="clear-btn" onclick="clearDisplay()">–û—á–∏—Å—Ç–∏—Ç—å –¥–∏—Å–ø–ª–µ–π</button>
               </div>
           </form>
           
           <!-- –§–æ—Ä–º–∞ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –¥–∏—Å–ø–ª–µ—è -->
           <form id="clear-form" action="/clear" method="post" style="display: none;">
           </form>
           
           {% if message %}
           <div class="message success">
               {{ message }}
           </div>
           {% endif %}
       </div>
       
       <script>
           function clearDisplay() {
               document.getElementById('clear-form').submit();
           }
           
           // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤–≤–æ–¥–∞ 16 —Å–∏–º–≤–æ–ª–∞–º–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∏—Å–ø–ª–µ—è –ø—Ä–∏ –≤–≤–æ–¥–µ
           document.getElementById('line1').addEventListener('input', function() {
               updateDisplayPreview();
           });
           
           document.getElementById('line2').addEventListener('input', function() {
               updateDisplayPreview();
           });
           
           function updateDisplayPreview() {
               var line1 = document.getElementById('line1').value;
               var line2 = document.getElementById('line2').value;
               
               // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –ª–∏–Ω–∏–∏ –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º –¥–∏—Å–ø–ª–µ–µ
               var displayLines = document.querySelectorAll('.lcd-display div');
               displayLines[0].textContent = line1.padEnd(16, ' ');
               displayLines[1].textContent = line2.padEnd(16, ' ');
           }
           
           // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
           updateDisplayPreview();
       </script>
   </body>
   </html>

–†–∞–∑–±–æ—Ä –∫–æ–¥–∞
------------------------------------------

### –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å (app.py)

**–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:**

–≠—Ç–æ—Ç –±–ª–æ–∫ –∫–æ–¥–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ —Å–æ–∑–¥–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä LCD-–¥–∏—Å–ø–ª–µ—è:

.. code-block:: python

   from flask import Flask, render_template, request
   from RPLCD.i2c import CharLCD
   import time

   app = Flask(__name__)

   # –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç LCD
   # –ê–¥—Ä–µ—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0x27, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ 0x3F –∏–ª–∏ –¥—Ä—É–≥–æ–π
   lcd = CharLCD(i2c_expander='PCF8574', address=0x27, port=1,
               cols=16, rows=2, dotsize=8)

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞ `CharLCD` –º—ã —É–∫–∞–∑—ã–≤–∞–µ–º:
- `i2c_expander='PCF8574'` - —Ç–∏–ø I2C-—Ä–∞—Å—à–∏—Ä–∏—Ç–µ–ª—è (–æ–±—ã—á–Ω–æ PCF8574 –∏–ª–∏ PCF8574A)
- `address=0x27` - I2C-–∞–¥—Ä–µ—Å –¥–∏—Å–ø–ª–µ—è (–º–æ–∂–µ—Ç –±—ã—Ç—å 0x3F —É –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –º–æ–¥–µ–ª–µ–π)
- `port=1` - –Ω–æ–º–µ—Ä I2C-–ø–æ—Ä—Ç–∞ (–æ–±—ã—á–Ω–æ 1 –¥–ª—è Raspberry Pi 2 –∏ –≤—ã—à–µ)
- `cols=16, rows=2` - —Ä–∞–∑–º–µ—Ä—ã –¥–∏—Å–ø–ª–µ—è (16 —Å–∏–º–≤–æ–ª–æ–≤, 2 —Å—Ç—Ä–æ–∫–∏)
- `dotsize=8` - —Ä–∞–∑–º–µ—Ä —Å–∏–º–≤–æ–ª–∞ (5x8 —Ç–æ—á–µ–∫)

**–ú–∞—Ä—à—Ä—É—Ç—ã Flask:**

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–º–µ–µ—Ç —Ç—Ä–∏ –º–∞—Ä—à—Ä—É—Ç–∞:
1. `/` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
2. `/display` - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫—É —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –¥–∏—Å–ø–ª–µ–π
3. `/clear` - –æ—á–∏—â–∞–µ—Ç –¥–∏—Å–ø–ª–µ–π

.. code-block:: python

   @app.route('/')
   def index():
       return render_template('index.html')

   @app.route('/display', methods=['POST'])
   def display_text():
       # –ü–æ–ª—É—á–µ–Ω–∏–µ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –¥–∏—Å–ø–ª–µ–µ
       # ...
       return render_template('index.html', 
                              message="–¢–µ–∫—Å—Ç —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –¥–∏—Å–ø–ª–µ–π!",
                              line1=line1,
                              line2=line2)

   @app.route('/clear', methods=['POST'])
   def clear_display():
       # –û—á–∏—Å—Ç–∫–∞ –¥–∏—Å–ø–ª–µ—è
       # ...
       return render_template('index.html', message="–î–∏—Å–ø–ª–µ–π –æ—á–∏—â–µ–Ω!")

–§—É–Ω–∫—Ü–∏—è `display_text()` –ø–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—Å—Ç –∏–∑ —Ñ–æ—Ä–º—ã, –æ—á–∏—â–∞–µ—Ç –¥–∏—Å–ø–ª–µ–π –∏ –≤—ã–≤–æ–¥–∏—Ç —Ç–µ–∫—Å—Ç –ø–æ—Å—Ç—Ä–æ—á–Ω–æ:

.. code-block:: python

   # –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—Å—Ç –∏–∑ —Ñ–æ—Ä–º—ã
   line1 = request.form['line1']
   line2 = request.form['line2']
   
   # –û—á–∏—â–∞–µ–º –¥–∏—Å–ø–ª–µ–π
   lcd.clear()
   
   # –í—ã–≤–æ–¥–∏–º –ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É
   lcd.cursor_pos = (0, 0)  # –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞
   lcd.write_string(line1[:16])  # –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º 16 —Å–∏–º–≤–æ–ª–∞–º–∏
   
   # –í—ã–≤–æ–¥–∏–º –≤—Ç–æ—Ä—É—é —Å—Ç—Ä–æ–∫—É
   lcd.cursor_pos = (1, 0)  # –í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞
   lcd.write_string(line2[:16])  # –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º 16 —Å–∏–º–≤–æ–ª–∞–º–∏

**–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∏—Å–ø–ª–µ—è –∏ –∑–∞–ø—É—Å–∫ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞:

.. code-block:: python

   if __name__ == '__main__':
       try:
           # –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∑–¥–æ—Ä–æ–≤–∞–µ–º—Å—è
           lcd.clear()
           lcd.write_string("LCD Ready!")
           lcd.cursor_pos = (1, 0)
           lcd.write_string("Web app started")
           
           # –ó–∞–ø—É—Å–∫–∞–µ–º –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
           app.run(host='0.0.0.0', port=5000, debug=True)
           
       except KeyboardInterrupt:
           # –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ –æ—á–∏—â–∞–µ–º –¥–∏—Å–ø–ª–µ–π
           lcd.clear()
           print("–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.")

–ü–∞—Ä–∞–º–µ—Ç—Ä `host='0.0.0.0'` –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å–æ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –≤ —Å–µ—Ç–∏.

### –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å (index.html)

**HTML-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ CSS:**

HTML-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç:
- –ó–∞–≥–æ–ª–æ–≤–æ–∫
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é LCD-–¥–∏—Å–ø–ª–µ—è
- –§–æ—Ä–º—É —Å –ø–æ–ª—è–º–∏ –≤–≤–æ–¥–∞ –¥–ª—è –¥–≤—É—Ö —Å—Ç—Ä–æ–∫ —Ç–µ–∫—Å—Ç–∞
- –ö–Ω–æ–ø–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏ –æ—á–∏—Å—Ç–∫–∏
- –û–±–ª–∞—Å—Ç—å –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

CSS —Å—Ç–∏–ª–∏ –æ—Ñ–æ—Ä–º–ª—è—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –≤–∫–ª—é—á–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é LCD-–¥–∏—Å–ø–ª–µ—è:

.. code-block:: css

   .lcd-display {
       width: 100%;
       height: 90px;
       background-color: #73c0ff;
       border: 5px solid #333;
       border-radius: 5px;
       margin: 20px 0;
       padding: 10px;
       box-sizing: border-box;
       color: #000080;
       font-family: monospace;
       font-size: 20px;
       line-height: 30px;
   }

**–†–∞–±–æ—Ç–∞ —Å —Ñ–æ—Ä–º–æ–π –∏ –¥–∏—Å–ø–ª–µ–µ–º:**

–§–æ—Ä–º–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç–µ–∫—Å—Ç–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–∞ –ø–æ–ª—è –≤–≤–æ–¥–∞ –∏ –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

.. code-block:: html

   <form action="/display" method="post">
       <div class="form-group">
           <label for="line1">–¢–µ–∫—Å—Ç –¥–ª—è –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–∏:</label>
           <input type="text" id="line1" name="line1" maxlength="16" value="{{ line1 }}">
       </div>
       
       <div class="form-group">
           <label for="line2">–¢–µ–∫—Å—Ç –¥–ª—è –≤—Ç–æ—Ä–æ–π —Å—Ç—Ä–æ–∫–∏:</label>
           <input type="text" id="line2" name="line2" maxlength="16" value="{{ line2 }}">
       </div>
       
       <div class="buttons">
           <button type="submit" class="send-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –¥–∏—Å–ø–ª–µ–π</button>
           <button type="button" class="clear-btn" onclick="clearDisplay()">–û—á–∏—Å—Ç–∏—Ç—å –¥–∏—Å–ø–ª–µ–π</button>
       </div>
   </form>

–î–ª—è –∫–Ω–æ–ø–∫–∏ –æ—á–∏—Å—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∫—Ä—ã—Ç–∞—è —Ñ–æ—Ä–º–∞:

.. code-block:: html

   <!-- –§–æ—Ä–º–∞ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –¥–∏—Å–ø–ª–µ—è -->
   <form id="clear-form" action="/clear" method="post" style="display: none;">
   </form>

**JavaScript –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:**

JavaScript-–∫–æ–¥ –¥–æ–±–∞–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã –æ—á–∏—Å—Ç–∫–∏ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É "–û—á–∏—Å—Ç–∏—Ç—å –¥–∏—Å–ø–ª–µ–π"
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ LCD-–¥–∏—Å–ø–ª–µ—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏ –≤–≤–æ–¥–µ —Ç–µ–∫—Å—Ç–∞
- –î–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫ –ø—Ä–æ–±–µ–ª–∞–º–∏ –¥–æ 16 —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

.. code-block:: javascript

   function clearDisplay() {
       document.getElementById('clear-form').submit();
   }
   
   // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –¥–∏—Å–ø–ª–µ—è –ø—Ä–∏ –≤–≤–æ–¥–µ
   function updateDisplayPreview() {
       var line1 = document.getElementById('line1').value;
       var line2 = document.getElementById('line2').value;
       
       // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –ª–∏–Ω–∏–∏ –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º –¥–∏—Å–ø–ª–µ–µ
       var displayLines = document.querySelectorAll('.lcd-display div');
       displayLines[0].textContent = line1.padEnd(16, ' ');
       displayLines[1].textContent = line2.padEnd(16, ' ');
   }

–ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
---------------------------------------------

1. –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ –∏ –≤–Ω—É—Ç—Ä–∏ –Ω–µ–µ –ø–∞–ø–∫—É `templates`:

   .. code-block:: bash

      mkdir -p lcd_web_controller/templates
      cd lcd_web_controller

2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª—ã `app.py` –∏ `templates/index.html` —Å –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–º –≤—ã—à–µ –∫–æ–¥–æ–º.

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Flask-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

   .. code-block:: bash

      python app.py

4. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É:

   .. code-block:: bash

      http://<IP-–∞–¥—Ä–µ—Å_Raspberry_Pi>:5000

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
--------------------------------------------------

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤—ã —É–≤–∏–¥–∏—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π LCD-–¥–∏—Å–ø–ª–µ—è –∏ –ø–æ–ª—è–º–∏ –¥–ª—è –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞. –ü—Ä–∏ –≤–≤–æ–¥–µ —Ç–µ–∫—Å—Ç–∞ –≤ –ø–æ–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏. –ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫—É "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –¥–∏—Å–ø–ª–µ–π" —Ç–µ–∫—Å—Ç –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º LCD-–¥–∏—Å–ø–ª–µ–µ, –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–º –∫ Raspberry Pi.

.. figure:: images/lcd_web_interface.png
   :width: 80%
   :align: center

   **–†–∏—Å. 2:** –ü—Ä–∏–º–µ—Ä –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è LCD-–¥–∏—Å–ø–ª–µ–µ–º

–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
-----------------------------------------------------

–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è:

1. **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö –¥–∏—Å–ø–ª–µ–µ–≤** - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –≤—Ä–µ–º–µ–Ω–∏, –¥–∞–Ω–Ω—ã—Ö —Å –¥–∞—Ç—á–∏–∫–æ–≤
2. **–î–æ–º–∞—à–Ω–µ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏** - –≤—ã–≤–æ–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —É–º–Ω–æ–≥–æ –¥–æ–º–∞
3. **–£—á–µ–±–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤** - –∏–∑—É—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å I2C –∏ LCD-–¥–∏—Å–ø–ª–µ—è–º–∏
4. **–í—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö —Å–∏—Å—Ç–µ–º** - —Å–æ–∑–¥–∞–Ω–∏–µ —É–¥–æ–±–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏

–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
----------------------------------

–í—ã –º–æ–∂–µ—Ç–µ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏:

1. **–î–æ–±–∞–≤–∏—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã** - —Å–æ–∑–¥–∞—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã –Ω–∞ LCD-–¥–∏—Å–ø–ª–µ–µ
2. **–ê–Ω–∏–º–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–µ–≥—É—â—É—é —Å—Ç—Ä–æ–∫—É –∏–ª–∏ –¥—Ä—É–≥–∏–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –∞–Ω–∏–º–∞—Ü–∏–∏
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** - –¥–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∏–ª–∏ –¥—Ä—É–≥–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥–∞—Ç—á–∏–∫–∞–º–∏** - –ø–æ–¥–∫–ª—é—á–∏—Ç—å –¥–∞—Ç—á–∏–∫–∏ –∏ –≤—ã–≤–æ–¥–∏—Ç—å –∏—Ö –ø–æ–∫–∞–∑–∞–Ω–∏—è –Ω–∞ –¥–∏—Å–ø–ª–µ–π
5. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–æ–∫** - –¥–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏ –±—ã—Å—Ç—Ä–æ –≤—ã–∑—ã–≤–∞—Ç—å —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

–ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤:

.. code-block:: python

   # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–µ—Ä–¥—Ü–µ)
   heart = (
       0b00000,
       0b01010,
       0b11111,
       0b11111,
       0b11111,
       0b01110,
       0b00100,
       0b00000,
   )
   
   # –ó–∞–≥—Ä—É–∑–∫–∞ —Å–∏–º–≤–æ–ª–∞ –≤ –ø–∞–º—è—Ç—å –¥–∏—Å–ø–ª–µ—è
   lcd.create_char(0, heart)
   
   # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏–º–≤–æ–ª–∞ –≤ —Ç–µ–∫—Å—Ç–µ (—Å–∏–º–≤–æ–ª —Å –∫–æ–¥–æ–º 0)
   lcd.write_string("I \x00 Raspberry Pi")

–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã
----------------------------------
–î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞–∂–º–∏—Ç–µ **Ctrl + C** –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ. –î–∏—Å–ø–ª–µ–π –±—É–¥–µ—Ç –æ—á–∏—â–µ–Ω, –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç —Ä–∞–±–æ—Ç—É.

–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! üéâ –í—ã —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–ª–∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è LCD-–¥–∏—Å–ø–ª–µ–µ–º —á–µ—Ä–µ–∑ I2C. –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ –≤–∞—à –¥–∏—Å–ø–ª–µ–π —Å –ª—é–±–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏.
